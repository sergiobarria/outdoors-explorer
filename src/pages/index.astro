---
import { Image } from 'astro:assets';

import MainLayout from '@/layouts/main-layout.astro';
import FeaturedTours from '@/components/tours/featured-tours.astro';
import TourCardSkeleton from '@/components/tours/tour-card-skeleton.astro';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { heroImg, communityImg } from '@/assets';
import { Link } from '@/components/ui/link';
---

<MainLayout>
	<section class="relative h-[70vh] w-full py-12 md:py-24">
		{/* Background Image */}
		<div class="absolute inset-0 z-0">
			<Image
				src={heroImg}
				alt="Background Image"
				quality={80}
				class="pointer-events-none h-full object-cover"
			/>
		</div>

		{/* Dark overlay */}
		<div class="absolute inset-0 z-10 bg-black opacity-50"></div>

		<div class="relative z-20 flex h-full items-center justify-center px-4 md:px-6">
			<div class="flex flex-col items-center space-y-4 text-center">
				<div class="space-y-2">
					<h1
						class="text-3xl font-bold tracking-tighter text-white sm:text-4xl md:text-5xl"
					>
						Discover Earth&apos;s Hidden Wonders
					</h1>
					<p class="mx-auto max-w-[700px] text-pretty text-gray-300 md:text-xl">
						Embark on eco-friendly journeys to the most breathtaking destinations on our
						planet.
					</p>
				</div>

				<div class="flex space-x-4">
					<Link href="/tours"> Explore Tours </Link>
					<Link href="/about" variant="outline"> Learn More </Link>
				</div>
			</div>
		</div>
	</section>

	<section id="featured-tours" class="py-16">
		<div class="container px-4 md:px-6">
			<div class="flex flex-col items-center space-y-8">
				<h2 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl">
					Popular Tours
				</h2>
				<p class="mx-auto max-w-[700px] text-pretty text-gray-400 md:text-xl">
					Discover the most popular tours that our customers love.
				</p>
			</div>

			<div class="mt-8 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
				<FeaturedTours server:defer>
					{Array.from({ length: 3 }).map(() => <TourCardSkeleton slot="fallback" />)}
				</FeaturedTours>
			</div>

			<div class="mt-8 flex justify-center">
				<a
					href="/tours"
					class="font-semibold text-primary underline-offset-2 hover:underline"
				>
					Explore All Tours
				</a>
			</div>
		</div>
	</section>

	<section class="relative w-full py-12 text-white md:py-24 lg:py-32">
		{/* Background Image */}
		<div class="absolute inset-0 z-0">
			<Image
				src={communityImg}
				alt="Background Image"
				quality={80}
				class="pointer-events-none h-full object-cover"
			/>
		</div>

		{/* Dark overlay */}
		<div class="absolute inset-0 z-10 bg-gradient-to-r from-black via-black/70 to-transparent">
		</div>

		<div class="container relative z-20 px-4 md:px-6">
			<div class="flex flex-col items-start space-y-4 text-left">
				<div class="space-y-2">
					<h2 class="text-3xl font-bold tracking-tighter sm:text-5xl">
						Join Our Green Community
					</h2>
					<p class="max-w-[600px] text-green-100 md:text-xl">
						Sign up for our newsletter to receive exclusive eco-friendly offers, travel
						tips, and inspiring stories.
					</p>
				</div>
				<div class="w-full max-w-sm space-y-2">
					<form class="flex space-x-2">
						<Input
							className="flex-1 bg-white text-black placeholder-gray-500"
							placeholder="Enter your email"
							type="email"
						/>
						<Button type="submit" className="bg-black text-white hover:bg-gray-800">
							Subscribe
						</Button>
					</form>
				</div>
			</div>
		</div>
	</section>
</MainLayout>
